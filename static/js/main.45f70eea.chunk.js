(this["webpackJsonpshake-janken"]=this["webpackJsonpshake-janken"]||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(3),c=a.n(s),r=(a(14),a(4)),l=a(5),o=a(7),m=a(6),d=a(1),h=a(8),u=["guu","choki","paa"],v={time:new Date,x:null,y:null,z:null},E=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={isStarted:!1,isGranted:!1,handName:null,threshold:4,shaked:!1},a.deviceMotionHandler=a.deviceMotionHandler.bind(Object(d.a)(a)),a.requestDeviceMotionPermission=a.requestDeviceMotionPermission.bind(Object(d.a)(a)),a.setShuffleHand=a.setShuffleHand.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"deviceMotionHandler",value:function(e){var t=e.accelerationIncludingGravity,a=this.state.threshold;if(null===v.x&&null===v.y&&null===v.z)return v.x=t.x,v.y=t.y,void(v.z=t.z);var n=Math.abs(v.x-t.x),i=Math.abs(v.y-t.y),s=Math.abs(v.z-t.z);(n>a||i>a||s>a)&&this.setShuffleHand(),v.x=t.x,v.y=t.y,v.z=t.z}},{key:"setShuffleHand",value:function(){var e=this;if((new Date).getTime()-v.time.getTime()>300){var t=u[Math.floor(3*Math.random())];this.setState({handName:t,shaked:!0}),setTimeout((function(){e.setState({shaked:!1})}),100),v.time=new Date}}},{key:"requestDeviceMotionPermission",value:function(){var e=this;DeviceMotionEvent&&"function"===typeof DeviceMotionEvent.requestPermission?DeviceMotionEvent.requestPermission().then((function(t){"granted"===t?(window.addEventListener("devicemotion",e.deviceMotionHandler,!1),e.setState({isStarted:!0,isGranted:!0})):e.setState({isStarted:!0,isGranted:!1})})).catch((function(e){alert(e)})):DeviceOrientationEvent&&(window.addEventListener("devicemotion",this.deviceMotionHandler,!1),this.setState({isStarted:!0,isGranted:!0}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.isStarted,n=t.isGranted,s=t.handName,c=(t.threshold,t.shaked);return a?n?null===s?i.a.createElement("div",{className:"app started",onClick:this.setShuffleHand},i.a.createElement("div",{className:"title-container"},i.a.createElement("div",{className:"title"},"\u632f\u308b\u3068\u5909\u308f\u308b\u3088\uff01"),i.a.createElement("div",{className:"help"},"\u30bf\u30c3\u30c1\u3067\u3082OK!")),i.a.createElement("div",{className:"hand-image-container"},i.a.createElement("div",{className:"hand-image-wrapper"},i.a.createElement("div",{className:"hand-image"},i.a.createElement("img",{src:"images/guu.png"}))))):i.a.createElement("div",{className:"app started ".concat(c?"shaked":""),onClick:this.setShuffleHand},i.a.createElement("div",{className:"hand-image-container"},i.a.createElement("div",{className:"hand-image-wrapper"},i.a.createElement("div",{className:"hand-image"},i.a.createElement("img",{src:"images/".concat(s,".png")}))))):i.a.createElement("div",{className:"app"},"\u8a31\u53ef\u3092\u53d6\u5f97\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u30fb\u30fb\u30fb\ud83d\ude22"):i.a.createElement("div",{className:"app"},i.a.createElement("div",{className:"title-container"},i.a.createElement("h1",{className:"title"},"\u301c \u632f\u3063\u3066\u30b8\u30e3\u30f3\u30b1\u30f3 \u301c")),i.a.createElement("div",{className:"hands-container"},i.a.createElement("ul",{className:"start-hands"},i.a.createElement("li",null,i.a.createElement("img",{src:"images/guu.png"})),i.a.createElement("li",null,i.a.createElement("img",{src:"images/choki.png"})),i.a.createElement("li",null,i.a.createElement("img",{src:"images/paa.png"})))),i.a.createElement("div",{class:"button-container"},i.a.createElement("a",{className:"button",onClick:function(){return e.requestDeviceMotionPermission()}},"\u30b9\u30bf\u30fc\u30c8\uff01")))}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,t,a){e.exports=a(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.45f70eea.chunk.js.map